{"ast":null,"code":"import _classCallCheck from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import\"./TimerInterval.css\";var Timer=/*#__PURE__*/function(_React$Component){_inherits(Timer,_React$Component);function Timer(){var _this;_classCallCheck(this,Timer);_this=_possibleConstructorReturn(this,_getPrototypeOf(Timer).call(this));_this.state={timerSeconds:0,intervalId:\"\",isSessionInterval:true};_this.playStopTimer=_this.playStopTimer.bind(_assertThisInitialized(_this));_this.resetTimer=_this.resetTimer.bind(_assertThisInitialized(_this));return _this;}_createClass(Timer,[{key:\"playStopTimer\",value:function playStopTimer(event){var action=event.target.dataset.type;switch(action){case\"play\":this.props.onPlayChange(true);this.decreaseTimer();break;case\"stop\":this.props.onPlayChange(false);clearInterval(this.state.intervalId);break;default:break;}}},{key:\"decreaseTimer\",value:function decreaseTimer(){var _this2=this;var intervalId=setInterval(function(){switch(_this2.state.timerSeconds){case 0:if(_this2.props.timerMinute===0){if(_this2.state.isSessionInterval){// start break timer\n_this2.setState({isSessionInterval:false});_this2.props.onTimerMinuteChange(_this2.props.breakInterval);}else{// start session timer\n_this2.setState({isSessionInterval:true});_this2.props.onTimerMinuteChange(_this2.props.sessionInterval);}}else{_this2.props.onTimerMinuteChange(_this2.props.timerMinute-1);_this2.setState({timerSeconds:59});}break;default:_this2.setState({timerSeconds:_this2.state.timerSeconds-1});break;}},1000);this.setState({intervalId:intervalId});}},{key:\"resetTimer\",value:function resetTimer(){clearInterval(this.state.intervalId);this.props.resetTimer();this.props.onPlayChange(false);this.setState({timerSeconds:0});}},{key:\"render\",value:function render(){var timerClass=this.props.timerMinute===0?\"timer-alert\":\"\";timerClass+=\" session-timer\";return React.createElement(\"section\",null,React.createElement(\"section\",{id:\"session-container\"},React.createElement(\"h4\",{className:\"session-header\"},this.state.isSessionInterval?\"Session\":\"Break\",\" :\"),React.createElement(\"span\",{style:{color:\"white\"},className:timerClass},this.props.timerMinute),React.createElement(\"span\",{style:{color:\"white\"},className:timerClass,id:\"colon\"},\":\"),React.createElement(\"span\",{style:{color:\"white\"},className:timerClass},this.state.timerSeconds===0?\"00\":this.state.timerSeconds<10?\"0\"+this.state.timerSeconds:this.state.timerSeconds)),React.createElement(\"section\",{id:\"actions-container\"},React.createElement(\"button\",{\"data-type\":\"play\",onClick:this.playStopTimer},\"Play\"),React.createElement(\"button\",{\"data-type\":\"stop\",onClick:this.playStopTimer},\"Stop\"),React.createElement(\"button\",{onClick:this.resetTimer},\"Refresh\")));}}]);return Timer;}(React.Component);export default Timer;","map":{"version":3,"sources":["/Users/deethegreat/Desktop/Pomodoro-Clock/pomodoroclock/src/components/TimerInterval/Timer.js"],"names":["React","Timer","state","timerSeconds","intervalId","isSessionInterval","playStopTimer","bind","resetTimer","event","action","target","dataset","type","props","onPlayChange","decreaseTimer","clearInterval","setInterval","timerMinute","setState","onTimerMinuteChange","breakInterval","sessionInterval","timerClass","color","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./TimerInterval.css\";\n\nclass Timer extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      timerSeconds: 0,\n      intervalId: \"\",\n      isSessionInterval: true\n    };\n\n    this.playStopTimer = this.playStopTimer.bind(this);\n    this.resetTimer = this.resetTimer.bind(this);\n  }\n\n  playStopTimer(event) {\n    const action = event.target.dataset.type;\n\n    switch (action) {\n      case \"play\":\n        this.props.onPlayChange(true);\n        this.decreaseTimer();\n        break;\n      case \"stop\":\n        this.props.onPlayChange(false);\n        clearInterval(this.state.intervalId);\n        break;\n      default:\n        break;\n    }\n  }\n\n  decreaseTimer() {\n    let intervalId = setInterval(() => {\n      switch (this.state.timerSeconds) {\n        case 0:\n          if (this.props.timerMinute === 0) {\n            if (this.state.isSessionInterval) {\n              // start break timer\n              this.setState({\n                isSessionInterval: false\n              });\n\n              this.props.onTimerMinuteChange(this.props.breakInterval);\n            } else {\n              // start session timer\n              this.setState({\n                isSessionInterval: true\n              });\n\n              this.props.onTimerMinuteChange(this.props.sessionInterval);\n            }\n          } else {\n            this.props.onTimerMinuteChange(this.props.timerMinute - 1);\n            this.setState({\n              timerSeconds: 59\n            });\n          }\n          break;\n        default:\n          this.setState({\n            timerSeconds: this.state.timerSeconds - 1\n          });\n          break;\n      }\n    }, 1000);\n\n    this.setState({\n      intervalId: intervalId\n    });\n  }\n\n  resetTimer() {\n    clearInterval(this.state.intervalId);\n\n    this.props.resetTimer();\n    this.props.onPlayChange(false);\n\n    this.setState({\n      timerSeconds: 0\n    });\n  }\n\n  render() {\n    let timerClass = this.props.timerMinute === 0 ? \"timer-alert\" : \"\";\n    timerClass += \" session-timer\";\n    return (\n      <section>\n        <section id=\"session-container\">\n          <h4 className=\"session-header\">\n            {this.state.isSessionInterval ? \"Session\" : \"Break\"} :\n          </h4>\n          <span style={{ color: \"white\" }} className={timerClass}>\n            {this.props.timerMinute}\n          </span>\n          <span style={{ color: \"white\" }} className={timerClass} id=\"colon\">\n            :\n          </span>\n          <span style={{ color: \"white\" }} className={timerClass}>\n            {this.state.timerSeconds === 0\n              ? \"00\"\n              : this.state.timerSeconds < 10\n              ? \"0\" + this.state.timerSeconds\n              : this.state.timerSeconds}\n          </span>\n        </section>\n        <section id=\"actions-container\">\n          <button data-type=\"play\" onClick={this.playStopTimer}>\n            Play\n          </button>\n          <button data-type=\"stop\" onClick={this.playStopTimer}>\n            Stop\n          </button>\n          <button onClick={this.resetTimer}>Refresh</button>\n        </section>\n      </section>\n    );\n  }\n}\n\nexport default Timer;\n"]},"metadata":{},"sourceType":"module"}